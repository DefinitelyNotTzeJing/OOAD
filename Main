import java.util.Scanner;
import java.util.*;

public class Main {

    Scanner input = new Scanner(System.in);

    private int loginUI(int loginOption)
    {
        // Display welcome message and options
        System.out.println("Welcome to the e-Hailing Booking System!");
        System.out.println("1. Register a new account");
        System.out.println("2. Login");
        System.out.print("Choose an option: ");
        loginOption = input.nextInt();
        input.nextLine(); // Consume newline
        return loginOption;
    }

    private void clientRegister()
    {
        // Registration
        private String username;
        private String password;
        private String email;
        private char gender;
        private String contactNumber;

        Client c = new Client();
        System.out.println("Username: ");
        username = input.nextLine();
        c.setUsername(username);

        System.out.println("Password: ");
        password = input.nextLine();
        c.setPassword(password);

        System.out.println("Email: ");
        email = input.nextLine();
        c.setEmail(email);

        System.out.println("Gender (M/F) : ");
        gender = input.nextLine();
        gender = gender.toUpperCase();
        c.setGender(gender);

        System.out.println("Contact Number: ");
        contactNumber = input.nextLine();
        c.setContactNumber(contactNumber);

        System.out.println("\nAccount has been created successfully.");
    }

    private boolean clientLogin()
    {
        // Login
        String usernameInput;
        String passwordInput;

        System.out.println("Please enter your username: ");
        usernameInput = input.nextLine();

        System.out.println("Please enter your password: ");
        passwordInput = input.nextLine();

        System.out.println("Login successfully.");
        return true;
    }

    private int systemUI()
    {
        int systemOption;
        do 
        {
            System.out.println("Dear Mr/Ms " + "username" + "               Current Date: " + "date");
            System.out.println("Welcome to e-Hailing Booking System         Current Time: " + "time");
            System.out.println("____________________________________________________________________________");
            System.out.println("Do you want to: ");
            System.out.println("<1> Create/Request Booking(s)");
            System.out.println("<2> View Booking(s)");
            System.out.println("<3> Quit")
            systemOption = input.nextInt();
            input.nextLine();

            if (systemOption != 1 || systemOption != 2 || systemOption != 3)
            {
                System.out.println("Invalid operation");
            }
        } while (systemOption != 1 || systemOption != 2 || systemOption != 3);
        
        return systemOption;
    }

    public static void main(String[] args) 
    {
        int loginOption = 0;
        do{
            loginOption = loginUI();

            if (loginOption == 1) 
            {
                clientRegister();
                break;
            }   
            
            else if (loginOption == 2) 
            {
                clientLogin();
                break;
            }
            
            else 
            {
                System.out.println("Invalid option. Please choose again.");
                break;
            } 
        }while (loginOption != 2);

        int systemOption = systemUI();
        if (systemOption == 1)
        {
            //create bookings and save the details in respective user text file (make a method in client class and save the booking details in text file)
        }
        else if (systemOption  == 2)
        {
            //view all bookings and a new interface for the user to update, cancel and search for certain booking 
        }
        else
        {
            System.out.println("Account logout successfully.");
            break;
        }
        
    }
    input.close();
}
